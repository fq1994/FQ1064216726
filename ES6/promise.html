<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>

// function a(){
//     setTimeout(function(){
//         console.log("aaa")
//
//     },50)
//
// }
// function b(){
//     setTimeout(function(){
//         console.log("bbb");
//
//     },40)
//
// }
// function c(){
//     setTimeout(function(){
//         console.log("ccc")
//     },30)
//
// }

//    a(function(){
 //        b(function(){
 //            c()
 //        });
 //    });



//    var p=new Promise(function(resolve,reject){
//        setTimeout(function(){
//            console.log("aaa")
//            resolve('hhh')
//        },50);
//
//    });
// p.then(function(data){
//     setTimeout(function(){
//         console.log("bbb");
//
//     },50);
//     return Promise.reject()
//
// }).then(function(data){
//     setTimeout(function(){
//         console.log("ccc")
//
//     },30)
// }).catch(function(data){
//     console.log('222')
// })
//

//var p= Promise.all([//都执行，只要有一个失败就只返回失败那个
//     new Promise(function(resolve,reject){
//         setTimeout(function(){
//             console.log("aaa")
//          reject('11')
//         },50);
//
//     }),
//  new Promise(function(resolve,reject){
//      setTimeout(function(){
//          console.log("bbb")
//          reject('22')
//      },100);
//
//  }),
//  new Promise(function(resolve,reject){
//      setTimeout(function(){
//          console.log("ccc")
//          resolve('cc')
//      },60)
//
//  }),
// ]);
//
// p.then(function(data){
//     console.log(data)
// },function(data){
//     console.log(data)
// })
var p = Promise.race([///只返回执行速度最快的
    new Promise(function(resolve,reject){
        setTimeout(function(){
            console.log("aaa");
            resolve("11");
        },50);

    }),
    new Promise(function(resolve,reject){
        setTimeout(function(){
            console.log("bbb");
            resolve("11111");
        },60);

    }),
    new Promise(function(resolve,reject){
        setTimeout(function(){
            console.log("ccc");
            resolve("33");
        },10);

    })
]);


p.then(function(data){
    console.log(data);
},function(data){
//    console.log(data);
});

</script>
</body>
</html>